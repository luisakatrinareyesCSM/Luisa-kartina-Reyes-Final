@page
@model Kat.Pages.QrCode.Scanner.IndexModel
@{
}


 <div style="width: 500px" id="reader"></div>

 <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">               
                <a href="link-here" class="btn btn-primary">Proceed</a>
            </div>
        </div>
    </div>
</div>

@section Scripts {

    <script type="text/javascript">
       
       function onScanSuccess(decodedText, decodedResult) 
       {
            // Handle on success condition with the decoded text or result.
            const modal = new bootstrap.Modal("#exampleModal")
            console.log(`Scan result: ${decodedText}`, decodedResult);
            $("#exampleModal").find(".modal-body").text(`${decodedText}`);
            $("a[href='link-here']").attr('href', `${decodedText}`)
            modal.show();
       }
        var html5QrcodeScanner = new Html5QrcodeScanner(
	        "reader", { fps: 10, qrbox: 250 });
            html5QrcodeScanner.render(onScanSuccess);
    </script>
 
}
